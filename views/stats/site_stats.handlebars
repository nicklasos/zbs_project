<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.18/c3.min.css">

<div class="panel panel-default">
    <div class="panel-heading">
        Spent money: <b>{{site}}</b>
    </div>
    <div class="panel-body">
        <div id="totalSpent"></div>
    </div>
</div>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.18/c3.min.js"></script>
<script>
    c3.generate({
        bindto: '#totalSpent',
        data: {
            x: 'date',
            columns: [
                ['date',{{#each data}}'{{dateFormat date "Y-MM-DD"}}',{{/each}}],
                ['spent',{{#each data}}{{spent}},{{/each}}]
            ],
            axes: {
                spent: 'y'
            }
        },
        axis: {
            y: {
                tick: {
                    format: d3.format('$.2f')
                }
            },
            x: {
                label: {
                    text: 'Date',
                    position: 'center'
                },
                type: 'timeseries',
                tick: {
                    format: '%Y-%m-%d',
                    centered: true,
                    culling: {
                        max: 10
                    },
                    count: 90,
                }
            },
        },
    });
</script>
